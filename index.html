<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MUHAMMAD SMM | Ù†Ø¸Ø§Ù… Ù…Ø­Ù…Ø¯</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¬Ù…ÙŠÙ„ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ */
        body { margin: 0; background-color: #0c0c0c; font-family: sans-serif; display: flex; justify-content: center; align-items: center; min-height: 100vh; color: white; }
        .container { width: 90%; max-width: 400px; background: #1e1e1e; padding: 25px; border-radius: 20px; border: 1px solid #333; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        h2 { color: #ff4500; text-align: center; margin-bottom: 25px; }
        
        .services { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 20px; }
        .service-card { background: #2a2a2a; padding: 15px; border-radius: 12px; cursor: pointer; border: 2px solid transparent; text-align: center; transition: 0.3s; font-size: 13px; color: #bbb; }
        .service-card i { font-size: 28px; margin-bottom: 8px; display: block; color: #ff4500; }
        .service-card.active { border-color: #00ffcc; background: rgba(0, 255, 204, 0.1); color: white; }

        input { width: 100%; padding: 14px; margin-bottom: 15px; border-radius: 10px; border: 1px solid #444; background: #111; color: white; box-sizing: border-box; font-size: 16px; outline: none; }
        input:focus { border-color: #ff4500; }
        
        #cost-display { color: #00ffcc; font-weight: bold; font-size: 18px; margin-bottom: 20px; display: block; text-align: center; }
        
        .send-btn { width: 100%; padding: 16px; background: linear-gradient(45deg, #ff4500, #ff8c00); border: none; border-radius: 12px; color: white; font-weight: bold; cursor: pointer; font-size: 18px; transition: 0.3s; }
        .send-btn:active { transform: scale(0.98); }

        .tracking { margin-top: 25px; border-top: 1px solid #333; padding-top: 15px; }
        .order-item { background: #2a2a2a; padding: 10px; border-radius: 8px; margin-bottom: 8px; display: flex; justify-content: space-between; font-size: 13px; border-right: 4px solid orange; }
    </style>
</head>
<body>

    <div class="container">
        <h2>ğŸš€ Ù†Ø¸Ø§Ù… Ø±Ø´Ù‚ Ù…Ø­Ù…Ø¯</h2>

        <div class="services">
            <div class="service-card active" onclick="selectService(this, 3.0, 'Ù…ØªØ§Ø¨Ø¹ÙŠÙ† ØªÙŠÙƒ ØªÙˆÙƒ')">
                <i class="fab fa-tiktok"></i> Ù…ØªØ§Ø¨Ø¹ÙŠÙ† ØªÙŠÙƒ ØªÙˆÙƒ
            </div>
            <div class="service-card" onclick="selectService(this, 3.0, 'Ù…ØªØ§Ø¨Ø¹ÙŠÙ† Ø§Ù†Ø³ØªÙ‚Ø±Ø§Ù…')">
                <i class="fab fa-instagram"></i> Ù…ØªØ§Ø¨Ø¹ÙŠÙ† Ø§Ù†Ø³ØªÙ‚Ø±Ø§Ù…
            </div>
            <div class="service-card" onclick="selectService(this, 0.50, 'Ù„Ø§ÙŠÙƒØ§Øª ØªÙŠÙƒ ØªÙˆÙƒ')">
                <i class="fab fa-tiktok"></i> Ù„Ø§ÙŠÙƒØ§Øª ØªÙŠÙƒ ØªÙˆÙƒ
            </div>
            <div class="service-card" onclick="selectService(this, 2.50, 'Ø£Ø¹Ø¶Ø§Ø¡ ØªÙ„ÙŠØ¬Ø±Ø§Ù…')">
                <i class="fab fa-telegram"></i> Ø£Ø¹Ø¶Ø§Ø¡ ØªÙ„ÙŠØ¬Ø±Ø§Ù…
            </div>
        </div>

        <input type="text" id="order-link" placeholder="Ø¶Ø¹ Ø§Ù„Ø±Ø§Ø¨Ø· Ù‡Ù†Ø§">
        <input type="number" id="order-qty" placeholder="Ø§Ù„ÙƒÙ…ÙŠØ©" oninput="updatePrice()">
        
        <span id="cost-display">Ø§Ù„ØªÙƒÙ„ÙØ©: $0.00</span>
        
        <button class="send-btn" id="submit-btn" onclick="sendOrderToServer()">
            <i class="fas fa-paper-plane"></i> Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†
        </button>

        <div class="tracking">
            <h4 style="margin:0 0 10px 0; text-align:right;">ğŸ“¦ ØªØªØ¨Ø¹ Ø·Ù„Ø¨Ø§ØªÙƒ:</h4>
            <div id="orders-container" style="color:#777; font-size:12px; text-align:center;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø³Ø§Ø¨Ù‚Ø©</div>
        </div>
    </div>

    <script>
        // Ø±Ø§Ø¨Ø· Ø³ÙŠØ±ÙØ± Ø±Ù†Ø¯Ø± Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ (Ù…Ø³ØªØ®Ø±Ø¬ Ù…Ù† ØµÙˆØ±ØªÙƒ)
        const SERVER_URL = "https://army-bot-3y9o.onrender.com";
        
        let currentPricePer1k = 3.0;
        let currentServiceName = "Ù…ØªØ§Ø¨Ø¹ÙŠÙ† ØªÙŠÙƒ ØªÙˆÙƒ";

        // 1. ÙˆØ¸ÙŠÙØ© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø®Ø¯Ù…Ø© ÙˆØªØºÙŠÙŠØ± Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù†Ø´Ø·Ø©
        function selectService(element, price, name) {
         document.querySelectorAll('.service-card').forEach(card => card.classList.remove('active'));
            element.classList.add('active');
            currentPricePer1k = price;
            currentServiceName = name;
            updatePrice(); // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ø¹Ø± ÙÙˆØ± ØªØºÙŠÙŠØ± Ø§Ù„Ø®Ø¯Ù…Ø©
        }

        // 2. ÙˆØ¸ÙŠÙØ© Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³Ø¹Ø± ÙÙˆØ± ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¹Ø¯Ø¯
        function updatePrice() {
            const qty = document.getElementById('order-qty').value || 0;
            const totalCost = (qty / 1000) * currentPricePer1k;
            document.getElementById('cost-display').innerText = Ø§Ù„ØªÙƒÙ„ÙØ©: $${totalCost.toFixed(2)};
            return totalCost.toFixed(2);
        }

        // 3. ÙˆØ¸ÙŠÙØ© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ù„Ù„Ø³ÙŠØ±ÙØ± ÙˆØ§Ù„Ø¨ÙˆØª
        async function sendOrderToServer() {
            const link = document.getElementById('order-link').value;
            const qty = document.getElementById('order-qty').value;
            const cost = updatePrice();
            const orderId = Math.floor(Math.random() * 90000) + 10000;

            if (!link || qty <= 0) {
                return alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ø§Ø¨Ø· ÙˆØ§Ù„ÙƒÙ…ÙŠØ© Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­!");
            }

            const btn = document.getElementById('submit-btn');
            btn.disabled = true;
            btn.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...";

            try {
                const response = await fetch(`${SERVER_URL}/api/order`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        orderId: orderId,
                        link: link,
                        qty: qty,
                        service: currentServiceName,
                        cost: cost
                    })
                });

                if (response.ok) {
                    alert("âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­! Ø±Ø§Ù‚Ø¨ Ø¨ÙˆØª ØªÙ„ÙŠØ¬Ø±Ø§Ù….");
                    document.getElementById('order-link').value = "";
                    document.getElementById('order-qty').value = "";
                    updatePrice();
                    saveOrder(orderId, currentServiceName);
                } else {
                    alert("âŒ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±. ØªØ£ÙƒØ¯ Ø£Ù† Ø±Ù†Ø¯Ø± Ù‚ÙŠØ¯ Ø§Ù„Ø¹Ù…Ù„.");
                }
            } catch (error) {
                alert("âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ©ØŒ Ø§Ù„Ø³ÙŠØ±ÙØ± Ù„Ø§ ÙŠØ³ØªØ¬ÙŠØ¨.");
            } finally {
                btn.disabled = false;
                btn.innerHTML = '<i class="fas fa-paper-plane"></i> Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†';
            }
        }

        // Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨ Ù…Ø­Ù„ÙŠØ§Ù‹ Ù„Ù„ØªØªØ¨Ø¹
        function saveOrder(id, name) {
            let orders = JSON.parse(localStorage.getItem('muhammad_orders')) || [];
            orders.push({ id, name, status: "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°" });
            localStorage.setItem('muhammad_orders', JSON.stringify(orders));
            displayOrders();
        }

        function displayOrders() {
            const container = document.getElementById('orders-container');
            let orders = JSON.parse(localStorage.getItem('muhammad_orders')) || [];
            if (orders.length === 0) return;
            
            container.innerHTML = orders.map(o => `
                <div class="order-item">
                    <span>#${o.id} - ${o.name}</span>
                    <span style="color:orange;">${o.status}</span>
                </div>
            `).join('');
        }
        displayOrders();
    </script>
</body>
</html>   
